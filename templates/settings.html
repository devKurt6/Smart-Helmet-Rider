<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings â€” Helmet GPS Tracker</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body class="dash-body">

<div class="container">

  <!-- â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <header class="dash-header">
    <div class="dash-brand">
      <span class="dash-brand-icon">âš™ï¸</span>
      <h1>System <span>Settings</span></h1>
    </div>
    <div class="dash-header-right">
      <a href="/dashboard" class="btn-header btn-accent">
        â† <span class="label">Back to Dashboard</span>
      </a>
    </div>
  </header>

  <!-- â”€â”€ Email Settings Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="settings-card">
    <h2>ğŸ“§ Email <span>Configuration</span></h2>
    <p>Configure SMTP settings for password reset emails and notifications.</p>

    <div id="successMessage" class="settings-msg success"></div>
    <div id="errorMessage"   class="settings-msg error"></div>
    <div id="infoMessage"    class="settings-msg info"></div>

    <form id="settingsForm">

      <!-- Toggle -->
      <div class="form-group">
        <div class="toggle-group">
          <label class="toggle-switch">
            <input type="checkbox" id="emailEnabled">
            <span class="slider"></span>
          </label>
          <span class="toggle-label">Enable Email Functionality</span>
        </div>
        <small>Turn on to send password reset emails</small>
      </div>

      <!-- SMTP Server & Port -->
      <div class="form-row">
        <div class="form-group">
          <label for="smtpServer">SMTP Server</label>
          <input type="text" id="smtpServer" placeholder="smtp.gmail.com" value="smtp.gmail.com">
          <small>Gmail: smtp.gmail.com</small>
        </div>
        <div class="form-group">
          <label for="smtpPort">SMTP Port</label>
          <input type="number" id="smtpPort" placeholder="587" value="587">
          <small>TLS: 587 Â· SSL: 465</small>
        </div>
      </div>

      <!-- SMTP Credentials -->
      <div class="form-group">
        <label for="smtpUsername">Email Address (SMTP Username)</label>
        <input type="email" id="smtpUsername" placeholder="your-email@gmail.com">
        <small>Your Gmail address</small>
      </div>

      <div class="form-group">
        <label for="smtpPassword">App Password</label>
        <div class="password-display">
          <input type="password" id="smtpPassword" placeholder="Enter 16-character app password">
          <span class="toggle-password" onclick="togglePassword()">ğŸ‘ï¸</span>
        </div>
        <small>âš ï¸ Use Gmail App Password, not your regular password</small>
      </div>

      <!-- Sender Info -->
      <div class="form-row">
        <div class="form-group">
          <label for="senderEmail">Sender Email</label>
          <input type="email" id="senderEmail" placeholder="noreply@example.com">
          <small>Shown in "From" field</small>
        </div>
        <div class="form-group">
          <label for="senderName">Sender Name</label>
          <input type="text" id="senderName" placeholder="Helmet GPS Tracker" value="Helmet GPS Tracker">
          <small>Name in "From" field</small>
        </div>
      </div>

      <div class="button-group">
        <button type="submit" class="btn-settings btn-save">ğŸ’¾ Save Settings</button>
        <button type="button" class="btn-settings btn-test" onclick="testEmail()">âœ‰ï¸ Test Email</button>
      </div>
    </form>

    <!-- Help Box -->
    <div class="help-box">
      <h3>ğŸ“– How to Get Gmail App Password</h3>
      <ol>
        <li>Go to your Google Account: <strong>myaccount.google.com</strong></li>
        <li>Click <strong>Security</strong> â†’ Enable <strong>2-Step Verification</strong></li>
        <li>Go back to Security â†’ <strong>App passwords</strong></li>
        <li>Select App: <strong>Mail</strong>, Device: <strong>Other</strong></li>
        <li>Copy the 16-character password and paste it above</li>
      </ol>
    </div>
  </div>

</div><!-- /container -->

<script src="/static/script.js"></script>
</body>
</html>
